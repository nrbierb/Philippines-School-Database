(function(c){function a(d,f,g){var n=g.relative?d.position().top:d.offset().top,k=g.relative?d.position().left:d.offset().left,i=g.position[0];n-=f.outerHeight()-g.offset[0];k+=d.outerWidth()+g.offset[1];var l=f.outerHeight()+d.outerHeight();if(i=="center")n+=l/2;if(i=="bottom")n+=l;i=g.position[1];d=f.outerWidth()+d.outerWidth();if(i=="center")k-=d/2;if(i=="left")k-=d;return{top:n,left:k}}function b(d,f){var g=this,n=d.add(g),k,i=0,l=0,q=d.attr("title"),u=e[f.effect],m,t=d.is(":input"),r=t&&d.is(":checkbox, :radio, select, :button, :submit"),
w=d.attr("type"),x=f.events[w]||f.events[t?r?"widget":"input":"def"];if(!u)throw'Nonexistent effect "'+f.effect+'"';x=x.split(/,\s*/);if(x.length!=2)throw"Tooltip: bad events configuration for "+w;d.bind(x[0],function(p){clearTimeout(i);if(f.predelay)l=setTimeout(function(){g.show(p)},f.predelay);else g.show(p)}).bind(x[1],function(p){clearTimeout(l);if(f.delay)i=setTimeout(function(){g.hide(p)},f.delay);else g.hide(p)});if(q&&f.cancelDefault){d.removeAttr("title");d.data("title",q)}c.extend(g,{show:function(p){if(!k){if(q)k=
c(f.layout).addClass(f.tipClass).appendTo(document.body).hide().append(q);else if(f.tip)k=c(f.tip).eq(0);else{k=d.next();k.length||(k=d.parent().next())}if(!k.length)throw"Cannot find tooltip for "+d;}if(g.isShown())return g;k.stop(true,true);var o=a(d,k,f);p=p||c.Event();p.type="onBeforeShow";n.trigger(p,[o]);if(p.isDefaultPrevented())return g;o=a(d,k,f);k.css({position:"absolute",top:o.top,left:o.left});m=true;u[0].call(g,function(){p.type="onShow";m="full";n.trigger(p)});o=f.events.tooltip.split(/,\s*/);
k.bind(o[0],function(){clearTimeout(i);clearTimeout(l)});o[1]&&!d.is("input:not(:checkbox, :radio), textarea")&&k.bind(o[1],function(v){v.relatedTarget!=d[0]&&d.trigger(x[1].split(" ")[0])});return g},hide:function(p){if(!k||!g.isShown())return g;p=p||c.Event();p.type="onBeforeHide";n.trigger(p);if(!p.isDefaultPrevented()){m=false;e[f.effect][1].call(g,function(){p.type="onHide";m=false;n.trigger(p)});return g}},isShown:function(p){return p?m=="full":m},getConf:function(){return f},getTip:function(){return k},
getTrigger:function(){return d}});c.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(p,o){c.isFunction(f[o])&&c(g).bind(o,f[o]);g[o]=function(v){c(g).bind(o,v);return g}})}c.tools=c.tools||{version:"1.2.3"};c.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:false,cancelDefault:true,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},
layout:"<div/>",tipClass:"tooltip"},addEffect:function(d,f,g){e[d]=[f,g]}};var e={toggle:[function(d){var f=this.getConf(),g=this.getTip();f=f.opacity;f<1&&g.css({opacity:f});g.show();d.call()},function(d){this.getTip().hide();d.call()}],fade:[function(d){var f=this.getConf();this.getTip().fadeTo(f.fadeInSpeed,f.opacity,d)},function(d){this.getTip().fadeOut(this.getConf().fadeOutSpeed,d)}]};c.fn.tooltip=function(d){var f=this.data("tooltip");if(f)return f;d=c.extend(true,{},c.tools.tooltip.conf,d);
if(typeof d.position=="string")d.position=d.position.split(/,?\s/);this.each(function(){f=new b(c(this),d);c(this).data("tooltip",f)});return d.api?f:this}})(jQuery);
(function(c){var a=c.tools.tooltip;c.extend(a.conf,{direction:"up",bounce:false,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!c.browser.msie});var b={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};a.addEffect("slide",function(e){var d=this.getConf(),f=this.getTip(),g=d.slideFade?{opacity:d.opacity}:{},n=b[d.direction]||b.up;g[n[1]]=n[0]+"="+d.slideOffset;d.slideFade&&f.css({opacity:0});f.show().animate(g,d.slideInSpeed,e)},function(e){var d=this.getConf(),f=d.slideOffset,
g=d.slideFade?{opacity:0}:{},n=b[d.direction]||b.up,k=""+n[0];if(d.bounce)k=k=="+"?"-":"+";g[n[1]]=k+"="+f;this.getTip().animate(g,d.slideOutSpeed,function(){c(this).hide();e.call()})})})(jQuery);
(function(c){function a(d){var f=c(window),g=f.width()+f.scrollLeft(),n=f.height()+f.scrollTop();return[d.offset().top<=f.scrollTop(),g<=d.offset().left+d.width(),n<=d.offset().top+d.height(),f.scrollLeft()>=d.offset().left]}function b(d){for(var f=d.length;f--;)if(d[f])return false;return true}var e=c.tools.tooltip;e.dynamic={conf:{classNames:"top right bottom left"}};c.fn.dynamic=function(d){if(typeof d=="number")d={speed:d};d=c.extend({},e.dynamic.conf,d);var f=d.classNames.split(/\s/),g;this.each(function(){var n=
c(this).tooltip().onBeforeShow(function(k,i){k=this.getTip();var l=this.getConf();g||(g=[l.position[0],l.position[1],l.offset[0],l.offset[1],c.extend({},l)]);c.extend(l,g[4]);l.position=[g[0],g[1]];l.offset=[g[2],g[3]];k.css({visibility:"hidden",position:"absolute",top:i.top,left:i.left}).show();i=a(k);if(!b(i)){if(i[2]){c.extend(l,d.top);l.position[0]="top";k.addClass(f[0])}if(i[3]){c.extend(l,d.right);l.position[1]="right";k.addClass(f[1])}if(i[0]){c.extend(l,d.bottom);l.position[0]="bottom";k.addClass(f[2])}if(i[1]){c.extend(l,
d.left);l.position[1]="left";k.addClass(f[3])}if(i[0]||i[2])l.offset[0]*=-1;if(i[1]||i[3])l.offset[1]*=-1}k.css({visibility:"visible"}).hide()});n.onBeforeShow(function(){var k=this.getConf();this.getTip();setTimeout(function(){k.position=[g[0],g[1]];k.offset=[g[2],g[3]]},0)});n.onHide(function(){this.getTip().removeClass(d.classNames)});ret=n});return d.api?ret:this}})(jQuery);jQuery.cookie=function(c,a,b){if(typeof a!="undefined"){b=b||{};if(a===null){a="";b.expires=-1}var e="";if(b.expires&&(typeof b.expires=="number"||b.expires.toUTCString)){if(typeof b.expires=="number"){e=new Date;e.setTime(e.getTime()+b.expires*24*60*60*1E3)}else e=b.expires;e="; expires="+e.toUTCString()}var d=b.path?"; path="+b.path:"",f=b.domain?"; domain="+b.domain:"";b=b.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(a),e,d,f,b].join("")}else{a=null;if(document.cookie&&document.cookie!=
""){b=document.cookie.split(";");for(e=0;e<b.length;e++){d=jQuery.trim(b[e]);if(d.substring(0,c.length+1)==c+"="){a=decodeURIComponent(d.substring(c.length+1));break}}}return a}};(function(c){var a=(c.browser.msie?"paste":"input")+".mask",b=window.orientation!=undefined;c.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"}};c.fn.extend({caret:function(e,d){if(this.length!=0)if(typeof e=="number"){d=typeof d=="number"?d:e;return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(e,d)}else if(this.createTextRange){var g=this.createTextRange();g.collapse(true);g.moveEnd("character",d);g.moveStart("character",e);g.select()}})}else{if(this[0].setSelectionRange){e=
this[0].selectionStart;d=this[0].selectionEnd}else if(document.selection&&document.selection.createRange){var f=document.selection.createRange();e=0-f.duplicate().moveStart("character",-100000);d=e+f.text.length}return{begin:e,end:d}}},unmask:function(){return this.trigger("unmask")},mask:function(e,d){if(!e&&this.length>0){var f=c(this[0]),g=f.data("tests");return c.map(f.data("buffer"),function(q,u){return g[u]?q:null}).join("")}d=c.extend({placeholder:"_",completed:null},d);var n=c.mask.definitions;
g=[];var k=e.length,i=null,l=e.length;c.each(e.split(""),function(q,u){if(u=="?"){l--;k=q}else if(n[u]){g.push(new RegExp(n[u]));if(i==null)i=g.length-1}else g.push(null)});return this.each(function(){function q(j){for(;++j<=l&&!g[j];);return j}function u(j){for(;!g[j]&&--j>=0;);for(var s=j;s<l;s++)if(g[s]){v[s]=d.placeholder;var y=q(s);if(y<l&&g[s].test(v[y]))v[s]=v[y];else break}x();o.caret(Math.max(i,j))}function m(j){j=j;for(var s=d.placeholder;j<l;j++)if(g[j]){var y=q(j),z=v[j];v[j]=s;if(y<l&&
g[y].test(z))s=z;else break}}function t(j){var s=c(this).caret();j=j.keyCode;B=j<16||j>16&&j<32||j>32&&j<41;if(s.begin-s.end!=0&&(!B||j==8||j==46))w(s.begin,s.end);if(j==8||j==46||b&&j==127){u(s.begin+(j==46?0:-1));return false}else if(j==27){o.val(C);o.caret(0,p());return false}}function r(j){if(B){B=false;return j.keyCode==8?false:null}j=j||window.event;var s=j.charCode||j.keyCode||j.which,y=c(this).caret();if(j.ctrlKey||j.altKey||j.metaKey)return true;else if(s>=32&&s<=125||s>186){j=q(y.begin-
1);if(j<l){s=String.fromCharCode(s);if(g[j].test(s)){m(j);v[j]=s;x();s=q(j);c(this).caret(s);d.completed&&s==l&&d.completed.call(o)}}}return false}function w(j,s){for(j=j;j<s&&j<l;j++)if(g[j])v[j]=d.placeholder}function x(){return o.val(v.join("")).val()}function p(j){for(var s=o.val(),y=-1,z=0,A=0;z<l;z++)if(g[z]){for(v[z]=d.placeholder;A++<s.length;){var D=s.charAt(A-1);if(g[z].test(D)){v[z]=D;y=z;break}}if(A>s.length)break}else if(v[z]==s[A]&&z!=k){A++;y=z}if(!j&&y+1<k){o.val("");w(0,l)}else if(j||
y+1>=k){x();j||o.val(o.val().substring(0,y+1))}return k?z:i}var o=c(this),v=c.map(e.split(""),function(j){if(j!="?")return n[j]?d.placeholder:j}),B=false,C=o.val();o.data("buffer",v).data("tests",g);o.attr("readonly")||o.one("unmask",function(){o.unbind(".mask").removeData("buffer").removeData("tests")}).bind("focus.mask",function(){C=o.val();var j=p();x();setTimeout(function(){j==e.length?o.caret(0,j):o.caret(j)},0)}).bind("blur.mask",function(){p();o.val()!=C&&o.change()}).bind("keydown.mask",t).bind("keypress.mask",
r).bind(a,function(){setTimeout(function(){o.caret(p(true))},0)});p()})}})})(jQuery);$(function(){$.fn.numeric=function(c){settings=jQuery.extend({allowDecimal:true,allowNegative:false,decimalSeparator:".",maxDecimals:-1},c);$(this).keypress(function(a){var b=$(this).val(),e=getCaretPos($(this)[0]);if(a.which==0||a.which==8)return true;if(a.which>=48&&a.which<=57){if(settings.allowDecimal&&settings.maxDecimals>-1){a=b.indexOf(settings.decimalSeparator);if(a>-1&&e>a&&b.substr(a+1).length>=settings.maxDecimals)return false}return true}if(settings.allowNegative&&a.which==45&&e==0&&b.indexOf("-")==
-1)return true;if(settings.allowDecimal&&a.which==getSeparatorCode(settings.decimalSeparator)&&e>0&&b.indexOf(settings.decimalSeparator)==-1&&b.substr(e).length<=settings.maxDecimals)return true;return false});$(this).blur(function(){var a=$(this).val(),b=a.length-1;$(this).filter(function(){return a.charAt(b)==settings.decimalSeparator}).val(a.substr(0,b))})}});
function getCaretPos(c){var a=-1;if(document.selection){c.focus();a=document.selection.createRange();a.moveStart("character",-c.value.length);a=a.text.length}else if(c.selectionStart||c.selectionStart=="0")a=c.selectionStart;return a}function getSeparatorCode(c){switch(c){case ".":return 46;case ",":return 44;default:return-1}};(function(c){c.windowMsgHandlers=[];c.initWindowMsg=function(){c("body").append(c('<form name="windowComm"></form>').append(c('<input type="hidden" name="windowCommEvent">')).append(c('<input type="hidden" name="windowCommData">')).append(c('<input id="myinput" type="button" name="windowCommButton" value="" style="display:none">')));c("#myinput").click(function(){eventType=c("[name=windowCommEvent]").val();data=c("[name=windowCommData]").val();for(var a=0;a<c.windowMsgHandlers.length;a++){h=c.windowMsgHandlers[a];
if(h.event==eventType){h.callback.call(null,data);break}}})};c.triggerParentEvent=function(a,b){c.triggerWindowEvent(window.opener,a,b)};c.triggerWindowEvent=function(a,b,e){if(typeof a=="object")if(form=a.document.forms.windowComm){form.windowCommEvent.value=b;form.windowCommData.value=e;form.windowCommButton.click();return true}return false};c.windowMsg=function(a,b){c.windowMsgHandlers.push({event:a,callback:b})}})(jQuery);jQuery.timer=function(c,a,b){c={timer:setTimeout(a,c),callback:null};if(typeof b=="function")c.callback=b;return c};jQuery.clearTimer=function(c){clearTimeout(c.timer);typeof c.callback=="function"&&c.callback();return this};(function(c){c.extend(c.fn,{validate:function(a){if(this.length){var b=c.data(this[0],"validator");if(b)return b;b=new c.validator(a,this[0]);c.data(this[0],"validator",b);if(b.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){b.cancelSubmit=true});b.settings.submitHandler&&this.find("input, button").filter(":submit").click(function(){b.submitButton=this});this.submit(function(e){function d(){if(b.settings.submitHandler){if(b.submitButton)var f=c("<input type='hidden'/>").attr("name",
b.submitButton.name).val(b.submitButton.value).appendTo(b.currentForm);b.settings.submitHandler.call(b,b.currentForm);b.submitButton&&f.remove();return false}return true}b.settings.debug&&e.preventDefault();if(b.cancelSubmit){b.cancelSubmit=false;return d()}if(b.form()){if(b.pendingRequest){b.formSubmitted=true;return false}return d()}else{b.focusInvalid();return false}})}return b}else a&&a.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing")},valid:function(){if(c(this[0]).is("form"))return this.validate().form();
else{var a=true,b=c(this[0].form).validate();this.each(function(){a&=b.element(this)});return a}},removeAttrs:function(a){var b={},e=this;c.each(a.split(/\s/),function(d,f){b[f]=e.attr(f);e.removeAttr(f)});return b},rules:function(a,b){var e=this[0];if(a){var d=c.data(e.form,"validator").settings,f=d.rules,g=c.validator.staticRules(e);switch(a){case "add":c.extend(g,c.validator.normalizeRule(b));f[e.name]=g;if(b.messages)d.messages[e.name]=c.extend(d.messages[e.name],b.messages);break;case "remove":if(!b){delete f[e.name];
return g}var n={};c.each(b.split(/\s/),function(k,i){n[i]=g[i];delete g[i]});return n}}a=c.validator.normalizeRules(c.extend({},c.validator.metadataRules(e),c.validator.classRules(e),c.validator.attributeRules(e),c.validator.staticRules(e)),e);if(a.required){b=a.required;delete a.required;a=c.extend({required:b},a)}return a}});c.extend(c.expr[":"],{blank:function(a){return!c.trim(""+a.value)},filled:function(a){return!!c.trim(""+a.value)},unchecked:function(a){return!a.checked}});c.validator=function(a,
b){this.settings=c.extend(true,{},c.validator.defaults,a);this.currentForm=b;this.init()};c.validator.format=function(a,b){if(arguments.length==1)return function(){var e=c.makeArray(arguments);e.unshift(a);return c.validator.format.apply(this,e)};if(arguments.length>2&&b.constructor!=Array)b=c.makeArray(arguments).slice(1);if(b.constructor!=Array)b=[b];c.each(b,function(e,d){a=a.replace(new RegExp("\\{"+e+"\\}","g"),d)});return a};c.extend(c.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",
validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:c([]),errorLabelContainer:c([]),onsubmit:true,ignore:[],ignoreTitle:false,onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass,this.settings.validClass);this.errorsFor(a).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a)))this.element(a)},onkeyup:function(a){if(a.name in
this.submitted||a==this.lastElement)this.element(a)},onclick:function(a){if(a.name in this.submitted)this.element(a);else a.parentNode.name in this.submitted&&this.element(a.parentNode)},highlight:function(a,b,e){c(a).addClass(b).removeClass(e)},unhighlight:function(a,b,e){c(a).removeClass(b).addClass(e)}},setDefaults:function(a){c.extend(c.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",
date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:c.validator.format("Please enter no more than {0} characters."),minlength:c.validator.format("Please enter at least {0} characters."),rangelength:c.validator.format("Please enter a value between {0} and {1} characters long."),
range:c.validator.format("Please enter a value between {0} and {1}."),max:c.validator.format("Please enter a value less than or equal to {0}."),min:c.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){function a(d){var f=c.data(this[0].form,"validator");d="on"+d.type.replace(/^validate/,"");f.settings[d]&&f.settings[d].call(f,this[0])}this.labelContainer=c(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&
this.labelContainer||c(this.currentForm);this.containers=c(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var b=this.groups={};c.each(this.settings.groups,function(d,f){c.each(f.split(/\s/),function(g,n){b[n]=d})});var e=this.settings.rules;c.each(e,function(d,f){e[d]=c.validator.normalizeRule(f)});c(this.currentForm).validateDelegate(":text, :password, :file, select, textarea",
"focusin focusout keyup",a).validateDelegate(":radio, :checkbox, select, option","click",a);this.settings.invalidHandler&&c(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){this.checkForm();c.extend(this.submitted,this.errorMap);this.invalid=c.extend({},this.errorMap);this.valid()||c(this.currentForm).triggerHandler("invalid-form",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var a=0,b=this.currentElements=this.elements();b[a];a++)this.check(b[a]);
return this.valid()},element:function(a){this.lastElement=a=this.clean(a);this.prepareElement(a);this.currentElements=c(a);var b=this.check(a);if(b)delete this.invalid[a.name];else this.invalid[a.name]=true;if(!this.numberOfInvalids())this.toHide=this.toHide.add(this.containers);this.showErrors();return b},showErrors:function(a){if(a){c.extend(this.errorMap,a);this.errorList=[];for(var b in a)this.errorList.push({message:a[b],element:this.findByName(b)[0]});this.successList=c.grep(this.successList,
function(e){return!(e.name in a)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){c.fn.resetForm&&c(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var e in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},
valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{c(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(a){}},findLastActive:function(){var a=this.lastActive;return a&&c.grep(this.errorList,function(b){return b.element.name==a.name}).length==1&&a},elements:function(){var a=this,b={};return c([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&
a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in b||!a.objectLength(c(this).rules()))return false;return b[this.name]=true})},clean:function(a){return c(a)[0]},errors:function(){return c(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=c([]);this.toHide=c([]);this.currentElements=c([])},prepareForm:function(){this.reset();this.toHide=this.errors().add(this.containers)},
prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a))a=this.findByName(a.name)[0];var b=c(a).rules(),e=false;for(method in b){var d={method:method,parameters:b[method]};try{var f=c.validator.methods[method].call(this,a.value.replace(/\r/g,""),a,d.parameters);if(f=="dependency-mismatch")e=true;else{e=false;if(f=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!f){this.formatAndAdd(a,d);return false}}}catch(g){this.settings.debug&&
window.console&&console.log("exception occured when checking element "+a.id+", check the '"+d.method+"' method",g);throw g;}}if(!e){this.objectLength(b)&&this.successList.push(a);return true}},customMetaMessage:function(a,b){if(c.metadata)return(a=this.settings.meta?c(a).metadata()[this.settings.meta]:c(a).metadata())&&a.messages&&a.messages[b]},customMessage:function(a,b){return(a=this.settings.messages[a])&&(a.constructor==String?a:a[b])},findDefined:function(){for(var a=0;a<arguments.length;a++)if(arguments[a]!==
undefined)return arguments[a]},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),!this.settings.ignoreTitle&&a.title||undefined,c.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var e=this.defaultMessage(a,b.method),d=/\$?\{(\d+)\}/g;if(typeof e=="function")e=e.call(this,b.parameters,a);else if(d.test(e))e=jQuery.format(e.replace(d,"{$1}"),b.parameters);this.errorList.push({message:e,
element:a});this.errorMap[a.name]=e;this.submitted[a.name]=e},addWrapper:function(a){if(this.settings.wrapper)a=a.add(a.parent(this.settings.wrapper));return a},defaultShowErrors:function(){for(var a=0;this.errorList[a];a++){var b=this.errorList[a];this.settings.highlight&&this.settings.highlight.call(this,b.element,this.settings.errorClass,this.settings.validClass);this.showLabel(b.element,b.message)}if(this.errorList.length)this.toShow=this.toShow.add(this.containers);if(this.settings.success)for(a=
0;this.successList[a];a++)this.showLabel(this.successList[a]);if(this.settings.unhighlight){a=0;for(b=this.validElements();b[a];a++)this.settings.unhighlight.call(this,b[a],this.settings.errorClass,this.settings.validClass)}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return c(this.errorList).map(function(){return this.element})},showLabel:function(a,
b){var e=this.errorsFor(a);if(e.length){e.removeClass().addClass(this.settings.errorClass);e.attr("generated")&&e.html(b)}else{e=c("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper)e=e.hide().show().wrap("<"+this.settings.wrapper+"/>").parent();this.labelContainer.append(e).length||(this.settings.errorPlacement?this.settings.errorPlacement(e,c(a)):e.insertAfter(a))}if(!b&&this.settings.success){e.text("");
typeof this.settings.success=="string"?e.addClass(this.settings.success):this.settings.success(e)}this.toShow=this.toShow.add(e)},errorsFor:function(a){var b=this.idOrName(a);return this.errors().filter(function(){return c(this).attr("for")==b})},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(a){var b=this.currentForm;return c(document.getElementsByName(a)).map(function(e,d){return d.form==
b&&d.name==a&&d||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case "select":return c("option:selected",b).length;case "input":if(this.checkable(b))return this.findByName(b.name).filter(":checked").length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a){return a},string:function(a,b){return!!c(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!c.validator.methods.required.call(this,
c.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){c(this.currentForm).submit();this.formSubmitted=false}else if(!b&&this.pendingRequest==0&&this.formSubmitted){c(this.currentForm).triggerHandler("invalid-form",[this]);this.formSubmitted=
false}},previousValue:function(a){return c.data(a,"previousValue")||c.data(a,"previousValue",{old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?(this.classRuleSettings[a]=b):c.extend(this.classRuleSettings,
a)},classRules:function(a){var b={};(a=c(a).attr("class"))&&c.each(a.split(" "),function(){this in c.validator.classRuleSettings&&c.extend(b,c.validator.classRuleSettings[this])});return b},attributeRules:function(a){var b={};a=c(a);for(method in c.validator.methods){var e=a.attr(method);if(e)b[method]=e}b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)&&delete b.maxlength;return b},metadataRules:function(a){if(!c.metadata)return{};var b=c.data(a.form,"validator").settings.meta;return b?c(a).metadata()[b]:
c(a).metadata()},staticRules:function(a){var b={},e=c.data(a.form,"validator");if(e.settings.rules)b=c.validator.normalizeRule(e.settings.rules[a.name])||{};return b},normalizeRules:function(a,b){c.each(a,function(e,d){if(d===false)delete a[e];else if(d.param||d.depends){var f=true;switch(typeof d.depends){case "string":f=!!c(d.depends,b.form).length;break;case "function":f=d.depends.call(b,b);break}if(f)a[e]=d.param!==undefined?d.param:true;else delete a[e]}});c.each(a,function(e,d){a[e]=c.isFunction(d)?
d(b):d});c.each(["minlength","maxlength","min","max"],function(){if(a[this])a[this]=Number(a[this])});c.each(["rangelength","range"],function(){if(a[this])a[this]=[Number(a[this][0]),Number(a[this][1])]});if(c.validator.autoCreateRanges){if(a.min&&a.max){a.range=[a.min,a.max];delete a.min;delete a.max}if(a.minlength&&a.maxlength){a.rangelength=[a.minlength,a.maxlength];delete a.minlength;delete a.maxlength}}a.messages&&delete a.messages;return a},normalizeRule:function(a){if(typeof a=="string"){var b=
{};c.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,e){c.validator.methods[a]=b;c.validator.messages[a]=e!=undefined?e:c.validator.messages[a];b.length<3&&c.validator.addClassRules(a,c.validator.normalizeRule(a))},methods:{required:function(a,b,e){if(!this.depend(e,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case "select":return(a=c(b).val())&&a.length>0;case "input":if(this.checkable(b))return this.getLength(a,b)>0;default:return c.trim(a).length>
0}},remote:function(a,b,e){if(this.optional(b))return"dependency-mismatch";var d=this.previousValue(b);this.settings.messages[b.name]||(this.settings.messages[b.name]={});d.originalMessage=this.settings.messages[b.name].remote;this.settings.messages[b.name].remote=d.message;e=typeof e=="string"&&{url:e}||e;if(d.old!==a){d.old=a;var f=this;this.startRequest(b);var g={};g[b.name]=a;c.ajax(c.extend(true,{url:e,mode:"abort",port:"validate"+b.name,dataType:"json",data:g,success:function(n){f.settings.messages[b.name].remote=
d.originalMessage;var k=n===true;if(k){var i=f.formSubmitted;f.prepareElement(b);f.formSubmitted=i;f.successList.push(b);f.showErrors()}else{i={};n=d.message=n||f.defaultMessage(b,"remote");i[b.name]=c.isFunction(n)?n(a):n;f.showErrors(i)}d.valid=k;f.stopRequest(b,k)}},e));return"pending"}else if(this.pending[b.name])return"pending";return d.valid},minlength:function(a,b,e){return this.optional(b)||this.getLength(c.trim(a),b)>=e},maxlength:function(a,b,e){return this.optional(b)||this.getLength(c.trim(a),
b)<=e},rangelength:function(a,b,e){a=this.getLength(c.trim(a),b);return this.optional(b)||a>=e[0]&&a<=e[1]},min:function(a,b,e){return this.optional(b)||a>=e},max:function(a,b,e){return this.optional(b)||a<=e},range:function(a,b,e){return this.optional(b)||a>=e[0]&&a<=e[1]},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(a)},
url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(a)},
date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var e=b=0,d=false;a=a.replace(/\D/g,"");for(var f=a.length-1;f>=
0;f--){e=a.charAt(f);e=parseInt(e,10);if(d)if((e*=2)>9)e-=9;b+=e;d=!d}return b%10==0},accept:function(a,b,e){e=typeof e=="string"?e.replace(/,/g,"|"):"png|jpe?g|gif";return this.optional(b)||a.match(new RegExp(".("+e+")$","i"))},equalTo:function(a,b,e){e=c(e).unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){c(b).valid()});return a==e.val()}}});c.format=c.validator.format})(jQuery);
(function(c){var a=c.ajax,b={};c.ajax=function(e){e=c.extend(e,c.extend({},c.ajaxSettings,e));var d=e.port;if(e.mode=="abort"){b[d]&&b[d].abort();return b[d]=a.apply(this,arguments)}return a.apply(this,arguments)}})(jQuery);
(function(c){!jQuery.event.special.focusin&&!jQuery.event.special.focusout&&document.addEventListener&&c.each({focus:"focusin",blur:"focusout"},function(a,b){function e(d){d=c.event.fix(d);d.type=b;return c.event.handle.call(this,d)}c.event.special[b]={setup:function(){this.addEventListener(a,e,true)},teardown:function(){this.removeEventListener(a,e,true)},handler:function(d){arguments[0]=c.event.fix(d);arguments[0].type=b;return c.event.handle.apply(this,arguments)}}});c.extend(c.fn,{validateDelegate:function(a,
b,e){return this.bind(b,function(d){var f=c(d.target);if(f.is(a))return e.apply(f,arguments)})}})})(jQuery);var version=0.01,intvl_id=null,count=0,startedCount=0;
jQuery.loadanim={start:function(c){c=$.extend({updateTime:400,message:"Loading",ellipsisText:"..."},c);startedCount+=1;if(!(startedCount>1)){$("body").append('<div id="loadAnim"></div>');var a=$("div#loadAnim");a.css("display","none");a.css("color","#000");a.css("background-color","#FEB");a.css("position","absolute");a.css("width",c.message.length+c.ellipsisText.length+1+"ex");a.css("border","4px groove  #8b6914");a.css("padding","1ex");a.css("left","40%");a.css("top","20%");a.css("z-index","9999");
started=true;a.html(c.message);count=0;intvl_id=setInterval(function(){if(++count>c.ellipsisText.length)count=0;$("div#loadAnim").html(c.message+c.ellipsisText.substr(0,count))},c.updateTime);a.css("display","block")}},stop:function(){if(started){startedCount-=1;if(!(startedCount>0)){clearInterval(intvl_id);intvl_id=null;var c=$("div#loadAnim");c.css("display","none");c.remove()}}}};var json_parse=function(){var c,a,b={'"':'"',"\\":"\\","/":"/",b:"\u0008",f:"\u000c",n:"\n",r:"\r",t:"\t"},e,d=function(m){throw{name:"SyntaxError",message:m,at:c,text:e};},f=function(m){m&&m!==a&&d("Expected '"+m+"' instead of '"+a+"'");a=e.charAt(c);c+=1;return a},g=function(){var m;m="";if(a==="-"){m="-";f("-")}for(;a>="0"&&a<="9";){m+=a;f()}if(a===".")for(m+=".";f()&&a>="0"&&a<="9";)m+=a;if(a==="e"||a==="E"){m+=a;f();if(a==="-"||a==="+"){m+=a;f()}for(;a>="0"&&a<="9";){m+=a;f()}}m=+m;if(isNaN(m))d("Bad number");
else return m},n=function(){var m,t,r="",w;if(a==='"')for(;f();)if(a==='"'){f();return r}else if(a==="\\"){f();if(a==="u"){for(t=w=0;t<4;t+=1){m=parseInt(f(),16);if(!isFinite(m))break;w=w*16+m}r+=String.fromCharCode(w)}else if(typeof b[a]==="string")r+=b[a];else break}else r+=a;d("Bad string")},k=function(){for(;a&&a<=" ";)f()},i=function(){switch(a){case "t":f("t");f("r");f("u");f("e");return true;case "f":f("f");f("a");f("l");f("s");f("e");return false;case "n":f("n");f("u");f("l");f("l");return null}d("Unexpected '"+
a+"'")},l,q=function(){var m=[];if(a==="["){f("[");k();if(a==="]"){f("]");return m}for(;a;){m.push(l());k();if(a==="]"){f("]");return m}f(",");k()}}d("Bad array")},u=function(){var m,t={};if(a==="{"){f("{");k();if(a==="}"){f("}");return t}for(;a;){m=n();k();f(":");Object.hasOwnProperty.call(t,m)&&d('Duplicate key "'+m+'"');t[m]=l();k();if(a==="}"){f("}");return t}f(",");k()}}d("Bad object")};l=function(){k();switch(a){case "{":return u();case "[":return q();case '"':return n();case "-":return g();
default:return a>="0"&&a<="9"?g():i()}};return function(m,t){e=m;c=0;a=" ";m=l();k();a&&d("Syntax error");return typeof t==="function"?function r(w,x){var p,o,v=w[x];if(v&&typeof v==="object")for(p in v)if(Object.hasOwnProperty.call(v,p)){o=r(v,p);if(o!==undefined)v[p]=o;else delete v[p]}return t.call(w,x,v)}({"":m},""):m}}();if(!this.JSON)this.JSON={};
(function(){function c(i){return i<10?"0"+i:i}function a(i){d.lastIndex=0;return d.test(i)?'"'+i.replace(d,function(l){var q=n[l];return typeof q==="string"?q:"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'}function b(i,l){var q,u,m=f,t,r=l[i];if(r&&typeof r==="object"&&typeof r.toJSON==="function")r=r.toJSON(i);if(typeof k==="function")r=k.call(l,i,r);switch(typeof r){case "string":return a(r);case "number":return isFinite(r)?String(r):"null";case "boolean":case "null":return String(r);case "object":if(!r)return"null";
f+=g;t=[];if(Object.prototype.toString.apply(r)==="[object Array]"){u=r.length;for(i=0;i<u;i+=1)t[i]=b(i,r)||"null";l=t.length===0?"[]":f?"[\n"+f+t.join(",\n"+f)+"\n"+m+"]":"["+t.join(",")+"]";f=m;return l}if(k&&typeof k==="object"){u=k.length;for(i=0;i<u;i+=1){q=k[i];if(typeof q==="string")if(l=b(q,r))t.push(a(q)+(f?": ":":")+l)}}else for(q in r)if(Object.hasOwnProperty.call(r,q))if(l=b(q,r))t.push(a(q)+(f?": ":":")+l);l=t.length===0?"{}":f?"{\n"+f+t.join(",\n"+f)+"\n"+m+"}":"{"+t.join(",")+"}";
f=m;return l}}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var e=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,g,n={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;if(typeof JSON.stringify!=="function")JSON.stringify=function(i,l,q){var u;g=f="";if(typeof q==="number")for(u=0;u<q;u+=1)g+=" ";else if(typeof q==="string")g=q;if((k=l)&&typeof l!=="function"&&(typeof l!=="object"||typeof l.length!=="number"))throw new Error("JSON.stringify");return b("",
{"":i})};if(typeof JSON.parse!=="function")JSON.parse=function(i,l){function q(u,m){var t,r,w=u[m];if(w&&typeof w==="object")for(t in w)if(Object.hasOwnProperty.call(w,t)){r=q(w,t);if(r!==undefined)w[t]=r;else delete w[t]}return l.call(u,m,w)}e.lastIndex=0;if(e.test(i))i=i.replace(e,function(u){return"\\u"+("0000"+u.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(i.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){i=eval("("+i+")");return typeof l==="function"?q({"":i},""):i}throw new SyntaxError("JSON.parse");}})();
